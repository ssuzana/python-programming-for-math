

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>5. Introduction to NumPy and Visualization &#8212; Python Programming for Math</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=365ca57ee442770a23c6"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/04-numpy-intro-and-visuzalization';</script>
    <link rel="shortcut icon" href="../_static/logo.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="4. Lists" href="03-lists.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo-python-4-math.png" class="logo__image only-light" alt="Python Programming for Math - Home"/>
    <script>document.write(`<img src="../_static/logo-python-4-math.png" class="logo__image only-dark" alt="Python Programming for Math - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="00-colab-intro.html">1. Google Colab Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="01-computing-with-python.html">2. Computing with Python:  an Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-functions-control-statements.html">3. Functions and Control Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-lists.html">4. Lists</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">5. Introduction to NumPy and Visualization</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/edit/master/docs/content/04-numpy-intro-and-visuzalization.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fcontent/04-numpy-intro-and-visuzalization.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/content/04-numpy-intro-and-visuzalization.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Introduction to NumPy and Visualization</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-numpy">5.1. Introduction to NumPy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-numerical-types-and-universal-functions-ufuncs">5.1.1. NumPy numerical types and “universal” functions (ufuncs)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python-arrays">5.1.2. Python arrays</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#higher-dimensional-arrays">5.2. Higher-dimensional arrays</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#making-multidimensional-arrays">5.2.1. Making multidimensional arrays</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-random-interlude">5.2.2. A random interlude</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-and-slicing-multi-dimensional-arrays">5.2.3. Accessing and slicing multi-dimensional arrays</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#matrix-multiplication">5.2.4. Matrix multiplication</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-2-dimensional-graphics-in-python">5.3. Introduction to 2-dimensional graphics in Python</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-matplotlib">5.3.1. Introduction to matplotlib</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scatter-plots">5.3.2. Scatter plots</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#line-plots-in-matplotlib">5.3.3. Line plots in matplotlib</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#histograms-in-matplotlib">5.3.4. Histograms in matplotlib</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualization-with-pillow">5.4. Visualization with pillow</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">5.5. Exercises</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="introduction-to-numpy-and-visualization">
<h1><span class="section-number">5. </span>Introduction to NumPy and Visualization<a class="headerlink" href="#introduction-to-numpy-and-visualization" title="Permalink to this heading">#</a></h1>
<p>Python lists – objects of type <code class="docutils literal notranslate"><span class="pre">list</span></code> – are flexible containers for all sorts of data.  They can hold numbers, strings, even other lists.  Python excels at list slicing, whereby one can examine and move and write entire “slices” of a list at once.  Lists are emblematic of Pythonic elegance.</p>
<p><a class="reference external" href="http://www.numpy.org/">NumPy</a> (and it’s relative <a class="reference external" href="https://docs.scipy.org/doc/scipy/">SciPy</a>) are packages for numerical and scientific computation in Python.  These packages extend the capability of Python by defining new types which are highly optimized for floating-point and fixed-size integer computation.  They also extend the capability of Python by introducing new list-like types that allow multi-dimensional arrays (like matrices) and allow “broadcasting” – the seemingly-simultaneous application of functions to all terms of such an array.</p>
<p>Here we will introduce computation with NumPy.  Since we will be working with large arrays of data, we will also introduce a few techniques for data visualization, using <a class="reference external" href="https://matplotlib.org/">MatPlotLib</a> (for standard types of graphs) and <a class="reference external" href="https://python-pillow.org/">Pillow</a> (for low-level graphics manipulation).</p>
<section id="introduction-to-numpy">
<h2><span class="section-number">5.1. </span>Introduction to NumPy<a class="headerlink" href="#introduction-to-numpy" title="Permalink to this heading">#</a></h2>
<p>To get started, we load the numpy package with the <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">numpy</span> <span class="pre">as</span> <span class="pre">np</span></code> command.  This means that all numpy functions will be accessible in the form <code class="docutils literal notranslate"><span class="pre">np.&lt;function&gt;</span></code>.  For example, if we want to compute the square root of a number, using the numpy function, we would call it with <code class="docutils literal notranslate"><span class="pre">np.sqrt</span></code>.</p>
<p>To learn more about NumPy, get started with the <a class="reference external" href="https://docs.scipy.org/doc/numpy/user/basics.html">NumPy basics documentation</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.1622776601683795
</pre></div>
</div>
</div>
</div>
<section id="numpy-numerical-types-and-universal-functions-ufuncs">
<h3><span class="section-number">5.1.1. </span>NumPy numerical types and “universal” functions (ufuncs)<a class="headerlink" href="#numpy-numerical-types-and-universal-functions-ufuncs" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>numpy.float64
</pre></div>
</div>
</div>
</div>
<p>You’ll notice right away that numpy has its own types.  The above command should output something like <code class="docutils literal notranslate"><span class="pre">numpy.float64</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy.float32</span></code> (probably the first).  These are floating-point numbers (i.e., approximations of real numbers) which occupy 64 or 32 bits, depending on your computer (or Google’s computers, if running on Colab).  The standard numerical types in NumPy are described <a class="reference external" href="https://docs.scipy.org/doc/numpy/user/basics.types.html">in the documentation</a>.</p>
<p>By using specialized numerical types, NumPy is able to take advantage of your computer hardware, which is optimized for arithmetic on certain kinds of numbers.  NumPy types are typically a bit less flexible than pure Python types, e.g., you won’t find an “adjustable” <code class="docutils literal notranslate"><span class="pre">int</span></code> type.  But for intensive computations, the reduction of flexibility is outweighed by the speed and memory improvements.</p>
<p>You can create a variable of a certain numpy type with a command of the form <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">np.&lt;type&gt;(something)</span></code>.  For example, let’s create a numpy float from scratch.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="mf">3.14</span><span class="p">)</span> <span class="c1"># Not just a float... a numpy-float.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>93174.3733866435
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>numpy.float64
</pre></div>
</div>
</div>
</div>
<p>This is useful, if we want to tell our computer explicitly to use numpy for some computations instead of using the Python defaults.  But beware that types can be restrictive – this is a good thing, in practice, but takes some getting used to.</p>
<p>We will be using the type <code class="docutils literal notranslate"><span class="pre">uint8</span></code> type a bit later.  This stands for 8-bit <em>unsigned</em> integers.  These are non-negative integers that can be encoded with 8 bits of information, i.e., whose binary expansion has eight ones and zeros.  For example, the 8-bit binary expression 10101010 stands for the integer 128+32+8+2 = 170.  Note that 8 bits = 1 byte… so each uint8 occupies one byte of memory.</p>
<p>An 8-bit unsigned integer can represent integers between 0 and 255 (inclusive).  If your computations exceed this range, then a warning/error will result!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">(</span><span class="mi">137</span><span class="p">)</span> <span class="c1"># n is an 8-bit unsigned integer.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="c1"># The bits of n are in the string below, after the &#39;0b&#39;.  </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;0b10001001&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>137
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">n</span><span class="p">)</span> <span class="c1"># Uh oh overflow.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>81
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/3f/mhdhb7z91hj4c694g5gsbzlh0000gn/T/ipykernel_7424/4140773727.py:1: RuntimeWarning: overflow encountered in scalar multiply
  print(n*n) # Uh oh overflow.
</pre></div>
</div>
</div>
</div>
<p>These kind of restrictions are good and bad.  The bad is that more error messages will pop out and sometimes crash your functions.  Overflows can lead to <em>wrong</em> outputs.  The good is that you will be able to harness your computer’s processor more effectively, and you will be forced to program more carefully.</p>
<p>NumPy also comes with some familiar constants:  <span class="math notranslate nohighlight">\(e\)</span>, <span class="math notranslate nohighlight">\(\pi\)</span>, and Euler’s <span class="math notranslate nohighlight">\(\gamma\)</span> (which you approximated before).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.718281828459045
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.141592653589793
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">euler_gamma</span><span class="p">)</span> <span class="c1"># The harmonic sum minus the logarithm, remember?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.5772156649015329
</pre></div>
</div>
</div>
</div>
<p>NumPy also comes with a zoo of highly optimized, “broadcastable” (we’ll see what this means soon) functions.  Examples include square roots, trig functions, exponentials and logarithms, GCD, and more.  A nice list of these “universal functions” is <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/ufuncs.html#math-operations">in the documentation</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span><span class="p">)</span> <span class="c1"># What will this be?  Remember precalculus?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.7071067811865475
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="c1"># For comparison.  Note the little deviation from above... these can add up!!</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.7071067811865476
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">arctan</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># The arctangent, or inverse tangent function</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.7853981633974483
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.7853981633974483
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># Guess what this does!</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5.0
</pre></div>
</div>
</div>
</div>
</section>
<section id="python-arrays">
<h3><span class="section-number">5.1.2. </span>Python arrays<a class="headerlink" href="#python-arrays" title="Permalink to this heading">#</a></h3>
<p>So far, we have seen that NumPy extends Python with more types for numbers, more constants, and more functions.  This is all useful, especially for math and science applications.  But the place where NumPy really offers a big improvement is in its handling of arrays.</p>
<p>A NumPy array is like a Python list… but less flexible in its contents, more flexible in its shape and size, and much more efficient for large-scale computations.  Let’s begin by doing things that we know for lists, just within NumPy arrays instead.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">L</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span> <span class="c1"># Make a NumPy array from a list of numbers.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="c1"># Looks like a list.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[ 1  2  3  4  5  6  7  8  9 10]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span> <span class="c1"># But a Python list is printed with commas.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># NumPy arrays are indexed like plain-Python arrays.  Start at zero.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># Familiar Python indexing tricks are supported.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="c1"># But really, L is not a list!  It&#39;s a numpy.ndarray</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>numpy.ndarray
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># NumPy is treating the terms with numpy types.  int64 is a 64-bit signed integer type.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>numpy.int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">3</span><span class="p">])</span> <span class="c1"># Python list slices are supported in NumPy arrays.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[2 5 8]
</pre></div>
</div>
</div>
</div>
<p>So far, so good.  The NumPy array looks just like a Python list.  We can slice and access terms in the same way.  The only visible difference so far is that the type is different, using type <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> for the array and <code class="docutils literal notranslate"><span class="pre">numpy.int64</span></code> for each of the terms.  Here is the <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">official documentation</a> on the <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> type.</p>
<p>Here is where NumPy arrays really start to differ from lists.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">L</span> <span class="o">+</span> <span class="n">L</span> <span class="c1"># What would this do for a list?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 2,  4,  6,  8, 10, 12, 14, 16, 18, 20])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">7</span> <span class="o">*</span> <span class="n">L</span> <span class="c1"># What would this do for a list?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 7, 14, 21, 28, 35, 42, 49, 56, 63, 70])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">L</span> <span class="o">*</span> <span class="n">L</span> <span class="c1"># What would this do for a list?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([  1,   4,   9,  16,  25,  36,  49,  64,  81, 100])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="c1"># What would this do for a list?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 0.84147098,  0.90929743,  0.14112001, -0.7568025 , -0.95892427,
       -0.2794155 ,  0.6569866 ,  0.98935825,  0.41211849, -0.54402111])
</pre></div>
</div>
</div>
</div>
<p>WOAH!  That’s completely different than how lists behave.  These computations indicate an important benefit of NumPy.  NumPy is really really good at doing functions to whole arrays of numbers.  In fact, if you try to operate on NumPy arrays, NumPy will try really hard to do the same function many times – sometimes it will throw an error, but it is meant to behave well.</p>
<p>A tradeoff is that NumPy arrays are less flexible than Python lists.  In particular, items in a NumPy array must <em>all have the same type</em>.  For example, consider the array below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>  <span class="c1"># It looks like an int, float, and int.</span>
<span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">M</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="s2">&quot; has type &quot;</span><span class="p">,</span><span class="nb">type</span><span class="p">(</span><span class="n">m</span><span class="p">))</span> <span class="c1"># What do you think this will do?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.0  has type  &lt;class &#39;numpy.float64&#39;&gt;
2.5  has type  &lt;class &#39;numpy.float64&#39;&gt;
3.0  has type  &lt;class &#39;numpy.float64&#39;&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">N</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="s2">&quot;has type &quot;</span><span class="p">,</span><span class="nb">type</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="c1"># Plain Python lists are type-flexible.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1 has type  &lt;class &#39;int&#39;&gt;
2.5 has type  &lt;class &#39;float&#39;&gt;
3 has type  &lt;class &#39;int&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>NumPy will try to <em>coerce</em> lists so that all items have the same type.  This can lead to awkward results.  Be careful, and use the <code class="docutils literal notranslate"><span class="pre">type</span></code> command if you’re unsure what happened!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">O</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">False</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="s1">&#39;Hello&#39;</span><span class="p">])</span> <span class="c1"># NumPy has its own string type too.</span>
<span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">O</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="s2">&quot;has type &quot;</span><span class="p">,</span><span class="nb">type</span><span class="p">(</span><span class="n">o</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False has type  &lt;class &#39;numpy.str_&#39;&gt;
2.5 has type  &lt;class &#39;numpy.str_&#39;&gt;
Hello has type  &lt;class &#39;numpy.str_&#39;&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">O</span><span class="p">)</span> <span class="c1"># Look at what numpy has done to O!</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;False&#39; &#39;2.5&#39; &#39;Hello&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">P</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span> <span class="c1"># NumPy will not be happy with this.  </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">34</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">P</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span> <span class="c1"># NumPy will not be happy with this.  </span>

<span class="ne">ValueError</span>: setting an array element with a sequence. The requested array has an inhomogeneous shape after 1 dimensions. The detected shape was (2,) + inhomogeneous part.
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="higher-dimensional-arrays">
<h2><span class="section-number">5.2. </span>Higher-dimensional arrays<a class="headerlink" href="#higher-dimensional-arrays" title="Permalink to this heading">#</a></h2>
<p>Lists in Python are “one-dimensional”.  A list like <code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">=</span> <span class="pre">[1,2,3]</span></code> has a zeroth, first, and second item (or “element” or “entry”), which can be retrieved with <code class="docutils literal notranslate"><span class="pre">L[0]</span></code> or <code class="docutils literal notranslate"><span class="pre">L[1]</span></code> or <code class="docutils literal notranslate"><span class="pre">L[2]</span></code>.  For matrices, or other multidimensional arrangements, one might wish for a list which is “doubly-indexed” – something where the entries would be retrieved with a command like <code class="docutils literal notranslate"><span class="pre">L[1,2]</span></code> (for something in the 1st row and 2nd column).  It’s possible to make this work in plain Python by using lists of lists.  For example, if <code class="docutils literal notranslate"><span class="pre">M</span> <span class="pre">=</span> <span class="pre">[[1,2],[3,4]]</span></code> is a list of lists, then you can retrieve numbers with commands like <code class="docutils literal notranslate"><span class="pre">M[0][1]</span></code>.  But this gets a bit cumbersome and is not optimized for typical operations on matrices.</p>
<section id="making-multidimensional-arrays">
<h3><span class="section-number">5.2.1. </span>Making multidimensional arrays<a class="headerlink" href="#making-multidimensional-arrays" title="Permalink to this heading">#</a></h3>
<p>NumPy arrays can be, and often are, multidimensional.  In fact, why is the NumPy type called <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> instead of <code class="docutils literal notranslate"><span class="pre">numpy.array</span></code>?  The <code class="docutils literal notranslate"><span class="pre">nd</span></code> in <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> stands for “n-D” or “n-dimensional”.  Accessing elements and slicing multidimensional arrays takes a bit of practice, and that’s what we’ll do here.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>  <span class="c1"># Put a list of lists into an array.</span>
</pre></div>
</div>
</div>
</div>
<p>If we put a list of lists into an <code class="docutils literal notranslate"><span class="pre">np.array</span></code> then NumPy will try to put it into a single “multi-dimensional” array.  Here, NumPy has taken a list of two lists and assembled the items into a two-by-three matrix.  When you use the print command, it will print nicely.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[1 2 3]
 [4 5 6]]
</pre></div>
</div>
</div>
</div>
<p>If your lists don’t have the right size to form a matrix, numpy will fail to create a multidimensional array.  It will do its best, but the results won’t be pretty!</p>
<p>Returning to our nice matrix <code class="docutils literal notranslate"><span class="pre">M</span></code>… just as lists have a single <em>length</em> accessed with <code class="docutils literal notranslate"><span class="pre">len</span></code>, multidimensional arrays have a <code class="docutils literal notranslate"><span class="pre">shape</span></code> which describes the number of rows, columns, etc..  This is accessed with the shape <em>method</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="n">M</span><span class="o">.</span><span class="n">shape</span>  <span class="c1"># shape is an attribute of every matrix.  You don&#39;t write shape(M), you write M.shape  </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[1 2 3]
 [4 5 6]]
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2, 3)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># We haven&#39;t seen this type in a while!</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>tuple
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">M</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[ 2  4  6]
 [ 8 10 12]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="o">*</span><span class="n">M</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[ 1  4  9]
 [16 25 36]]
</pre></div>
</div>
</div>
</div>
<p>Basic operations and numpy-enabled functions are “broadcast” through higher-dimensional arrays, just like they are through one-dimensional list-like arrays.</p>
<p>Sometimes it is useful to create arrays of a given shape that are empty, or full of zeros, or full of ones, or full of a single number, or full of random numbers.  You can read about more ways to create arrays from <a class="reference external" href="https://numpy.org/doc/stable/user/basics.creation.html">the official documentation</a>.  The following examples were taken from <a class="reference external" href="http://cs231n.github.io/python-numpy-tutorial/#scipy-image">another tutorial</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>   <span class="c1"># Create an array of all zeros, of the given shape (3 rows, 4 columns)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>            
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[0. 0. 0. 0.]
 [0. 0. 0. 0.]
 [0. 0. 0. 0.]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>    <span class="c1"># Create an array of all ones, of the given shape.  Note the shape is a tuple.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>              
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[1. 1.]
 [1. 1.]
 [1. 1.]
 [1. 1.]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="mi">7</span><span class="p">)</span>  <span class="c1"># Create a constant array, of the given shape and constant.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>               
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[7 7 7 7 7]
 [7 7 7 7 7]
 [7 7 7 7 7]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>         <span class="c1"># Create an identity matrix (square) of the given size.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>              
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[1. 0. 0.]
 [0. 1. 0.]
 [0. 0. 1.]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>  <span class="c1"># Create an array filled with random floats between 0 and 1.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>               
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[0.65617868 0.25277755 0.51028104 0.51931711]
 [0.39417996 0.58958271 0.28110617 0.74696983]
 [0.42671199 0.13551047 0.61490695 0.55017669]
 [0.15204039 0.19688155 0.89794441 0.42697912]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="c1"># Roll the dice... an array of random integers between 1 and 6.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[3 1 5]
 [5 4 5]
 [5 3 3]
 [3 1 6]
 [6 4 2]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cube</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="c1"># Why stop at 2-dimensional arrays?  Let&#39;s make a cube!</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cube</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[[0.4922218  0.06866411]
  [0.05701358 0.01601119]]

 [[0.29743349 0.50118013]
  [0.15001624 0.79985093]]]
</pre></div>
</div>
</div>
</div>
<p>NumPy can work with 3-dimensional, 4-dimensional, etc., arrays with ease.  <em>Printing</em> high-dimensional arrays on our 2-dimensional computer monitors might not be pretty, but NumPy will do its best.</p>
</section>
<section id="a-random-interlude">
<h3><span class="section-number">5.2.2. </span>A random interlude<a class="headerlink" href="#a-random-interlude" title="Permalink to this heading">#</a></h3>
<p>The previous few examples used NumPy’s random subpackage – a series of functions which can be used to generate “random” numbers.  There’s a whole science to generating “random” and <a class="reference external" href="https://en.wikipedia.org/wiki/Hardware_random_number_generator">really random</a> numbers.  It can be difficult to convince a computer, designed for predictable operations, to produce truly unpredictbale numbers.  In fact, NumPy’s random number generator uses the <a class="reference external" href="https://en.wikipedia.org/wiki/Mersenne_Twister">Mersenne Twister</a> to generate <em>pseudo-random</em> numbers.  These are great for most scientific purposes, e.g., for random sampling.  But they are <em>not</em> cryptographically secure – they should not be used for generating random cryptographic keys to keep your data secure.</p>
<p>Read the <a class="reference external" href="https://numpy.org/doc/1.16/reference/routines.random.html">Numpy documentation</a> for more about the capabilities of the random subpackage.  Here are a couple examples to give a quick survey.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># An array of three numbers, uniformly at random in [0,1)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.90360051, 0.75516748, 0.9210039 ])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>  <span class="c1"># Twenty-five rolls of the dice (random ints).  Note the list-like bottom/top of range.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[6, 4, 5, 5, 4],
       [5, 4, 3, 5, 3],
       [5, 6, 4, 1, 4],
       [6, 3, 4, 3, 4],
       [6, 3, 3, 4, 2]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;plum&#39;</span><span class="p">],</span> <span class="mi">10</span><span class="p">)</span> <span class="c1"># Ten random choices from the list.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;orange&#39;, &#39;orange&#39;, &#39;plum&#39;, &#39;orange&#39;, &#39;banana&#39;, &#39;apple&#39;, &#39;apple&#39;,
       &#39;plum&#39;, &#39;banana&#39;, &#39;orange&#39;], dtype=&#39;&lt;U6&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># Ten random choices from the *normal* or *Gaussian* distribution, mean 0, std 1.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 1.47575653e-03, -1.80222827e+00,  3.53236459e-01, -1.22326004e-01,
        2.92637527e-01,  7.52370895e-01, -7.68098977e-01,  2.68614311e-02,
       -3.53981541e-02, -3.69863539e-02])
</pre></div>
</div>
</div>
</div>
</section>
<section id="accessing-and-slicing-multi-dimensional-arrays">
<h3><span class="section-number">5.2.3. </span>Accessing and slicing multi-dimensional arrays<a class="headerlink" href="#accessing-and-slicing-multi-dimensional-arrays" title="Permalink to this heading">#</a></h3>
<p>How do we access the terms of a multi-dimensional array?  Let’s return to our 2x3 example.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="p">)</span> <span class="c1"># Remember this matrix?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[1 2 3]
 [4 5 6]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1 2 3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">M</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">M</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">M</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4 5 6
</pre></div>
</div>
</div>
</div>
<p>The syntax <code class="docutils literal notranslate"><span class="pre">M[x,y]</span></code> retrieves the value in row #x and column #y, using the Pythonic convention that all numbering starts at zero.  This enables quick access to individual values.  This row-then-column syntax extends to all sorts of array-slicing.  To see this, we begin by creating a bigger matrix.  We’ll use the NumPy <code class="docutils literal notranslate"><span class="pre">reshape</span></code> command to take an ordinary 1-dimensional array (the numbers 0…99) and <em>reshape</em> this array into a 2-dimensional array with 5 rows and 20 columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A =&quot;</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span> <span class="c1"># There might seem to be multiple rows, but that&#39;s just because A doesn&#39;t fit on a single line.</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">A</span><span class="p">,(</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;B =&quot;</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span> <span class="c1"># Notice the extra brackets!  This is a 2-dimensional array, i.e., a matrix.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A = [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47
 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
 96 97 98 99]
B = [[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19]
 [20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39]
 [40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59]
 [60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79]
 [80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,:])</span> <span class="c1"># Row 1.  Column anything.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">])</span> <span class="c1"># Column 2.  Row anything. Notice that it&#39;s formatted as a 1-dimensional array!  No longer vertical!</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[ 2 22 42 62 82]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">B</span><span class="p">[:,</span><span class="mi">2</span><span class="p">])</span> <span class="c1"># Still a numpy array.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>numpy.ndarray
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">])</span> <span class="c1"># Every row.  Which columns do you think will be displayed?  Remember start:stop:skip.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[ 1  3  5  7  9 11 13 15 17 19]
 [21 23 25 27 29 31 33 35 37 39]
 [41 43 45 47 49 51 53 55 57 59]
 [61 63 65 67 69 71 73 75 77 79]
 [81 83 85 87 89 91 93 95 97 99]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">:,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[23 24]
 [43 44]
 [63 64]
 [83 84]]
</pre></div>
</div>
</div>
</div>
<p>NumPy has nice commands to operate on rows and columns of arrays.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="c1"># Let&#39;s just remember what B was.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19]
 [20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39]
 [40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59]
 [60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79]
 [80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="c1"># Add up all the terms of B, i.e., 0+1+2+...+99</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4950
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>  <span class="c1"># Try this... what does the result mean?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[200 205 210 215 220 225 230 235 240 245 250 255 260 265 270 275 280 285
 290 295]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>  <span class="c1"># And what does this result mean?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[ 190  590  990 1390 1790]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">BigM</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">))</span> <span class="c1"># Just a little array of a million random numbers!</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">BigM</span><span class="p">)</span> <span class="c1"># Let&#39;s just add up a million random numbers.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>499885.88638567174
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">timeit</span> BigM * BigM # Don&#39;t print this one.
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>477 µs ± 18 µs per loop (mean ± std. dev. of 7 runs, 1,000 loops each)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">timeit</span> np.sum(BigM)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>174 µs ± 806 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">timeit</span> np.sum(BigM, axis=0)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>155 µs ± 334 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)
</pre></div>
</div>
</div>
</div>
<p>The speed of NumPy can be <em>startling</em>.  I mean, really really fast.  Really.  Note that a blink of the eye takes about 400 ms.  And there are 1000 µs (microseconds) in 1 ms (millisecond).</p>
</section>
<section id="matrix-multiplication">
<h3><span class="section-number">5.2.4. </span>Matrix multiplication<a class="headerlink" href="#matrix-multiplication" title="Permalink to this heading">#</a></h3>
<p>One of the most important computations in linear algebra is matrix multiplication.  If <span class="math notranslate nohighlight">\(M\)</span> and <span class="math notranslate nohighlight">\(N\)</span> are two matrices, and the number of columns of <span class="math notranslate nohighlight">\(M\)</span> equals the number of rows of <span class="math notranslate nohighlight">\(N\)</span>, then it’s possible to multiply <span class="math notranslate nohighlight">\(M\)</span> and <span class="math notranslate nohighlight">\(N\)</span> to obtain a matrix product.</p>
<p>Explicitly, if <span class="math notranslate nohighlight">\(P = M \cdot N\)</span> is a matrix product, then the entries of <span class="math notranslate nohighlight">\(P\)</span> are given by the formula,
$<span class="math notranslate nohighlight">\(P_{ij} = \sum_k M_{ik} N_{kj}.\)</span><span class="math notranslate nohighlight">\(
Here, notation like \)</span>M_{ik}<span class="math notranslate nohighlight">\( stands for the entry of \)</span>M<span class="math notranslate nohighlight">\( at row \)</span>i<span class="math notranslate nohighlight">\( and column \)</span>k$.</p>
<p>Let’s begin by doing this <em>explicitly</em> for NumPy matrices.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">matrix_mult</span><span class="p">(</span><span class="n">M</span><span class="p">,</span><span class="n">N</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A function to multiply two NumPy matrices.</span>
<span class="sd">    This is a bit more verbose than necessary, to improve clarity.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">Mrows</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># The number of rows of M</span>
    <span class="n">Mcols</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># The number of columns of M.</span>
    <span class="n">Nrows</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># The number of rows of N.</span>
    <span class="n">Ncols</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># The number of columns of N.</span>
    <span class="k">if</span> <span class="n">Mcols</span> <span class="o">!=</span> <span class="n">Nrows</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;The number of columns and rows do not match.&#39;</span><span class="p">)</span>
    <span class="n">P</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">Mrows</span><span class="p">,</span><span class="n">Ncols</span><span class="p">))</span> <span class="c1"># Initialize the product matrix to all zeros, the right shape.</span>
    <span class="n">Prows</span> <span class="o">=</span> <span class="n">Mrows</span>
    <span class="n">Pcols</span> <span class="o">=</span> <span class="n">Ncols</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">Prows</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">Pcols</span><span class="p">):</span>
            <span class="c1"># Now we are going to compute P_ij, the entry at row i and column j in the product matrix.</span>
            <span class="c1"># This is the sum in the above formula.  We set the running total to zero.</span>
            <span class="n">S</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">Mcols</span><span class="p">):</span>
                <span class="n">S</span> <span class="o">=</span> <span class="n">S</span> <span class="o">+</span> <span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">N</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="c1"># Compare to the formula above!</span>
            <span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">S</span>
    <span class="k">return</span> <span class="n">P</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[1 2 3]
 [4 5 6]]
[[1 2]
 [3 4]
 [5 6]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">matrix_mult</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">))</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[22. 28.]
 [49. 64.]]
</pre></div>
</div>
</div>
</div>
<p>It’s good to study the code above, to understand how it connects to the definition of matrix multiplication.  But since matrix multiplication comes up so often, the designers of NumPy have implemented a highly optimized version.  This is called <code class="docutils literal notranslate"><span class="pre">dot</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[22 28]
 [49 64]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">timeit</span> matrix_mult(A,B)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.38 µs ± 14.1 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">timeit</span> np.dot(A,B)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>418 ns ± 1.28 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
</pre></div>
</div>
</div>
</div>
<p>Let’s see how the speedup works for bigger matrices… like 100 by 100 matrices with 10000 random floats in each!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">timeit</span> matrix_mult(A,B)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>168 ms ± 1.78 ms per loop (mean ± std. dev. of 7 runs, 10 loops each)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">timeit</span> np.dot(A,B) # How about that for a speedup!!
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>53.4 µs ± 5.59 µs per loop (mean ± std. dev. of 7 runs, 1,000 loops each)
</pre></div>
</div>
</div>
</div>
<p>Check the units… how much faster does np.dot run than our basic Python loop implementation?</p>
</section>
</section>
<section id="introduction-to-2-dimensional-graphics-in-python">
<h2><span class="section-number">5.3. </span>Introduction to 2-dimensional graphics in Python<a class="headerlink" href="#introduction-to-2-dimensional-graphics-in-python" title="Permalink to this heading">#</a></h2>
<p>The visualization of quantitative information is a huge field of study.  The now-classic book in the field is Edward Tufte’s <a class="reference external" href="https://www.edwardtufte.com/tufte/books_vdqi">The Visual Display of Quantitative Information</a>, but you can find much earlier works by the best-named statistician <a class="reference external" href="https://en.wikipedia.org/wiki/William_Playfair">Playfair</a> or the beautiful but vexing <em>Semiology of Graphics</em> by Jacques Bertin.</p>
<p>In this notebook, we are going to introduce two tools for visualization.  The first is <a class="reference external" href="https://matplotlib.org/">matplotlib</a>, which has the same number of letters and syllables as <a class="reference external" href="https://en.wikipedia.org/wiki/ManBearPig">manbearpig</a>.  Matplotlib is an excellent tool for creating a huge number of “standard” graphs and charts.  It works very nicely in Jupyter notebooks, interfaces with numpy, and is very widely supported.</p>
<p>The second tool is <a class="reference external" href="https://python-pillow.org/">Pillow</a> which is the new and fluffy incarnation of PIL, the Python Imaging Library.  We will use Pillow for “low-level” 2-dimensional image manipulation.  Pillow is great when we want to create or modify an image pixel-by-pixel.  It’s not so great if we just want to make a graph with some dots, lines, axes, and labels.</p>
<p>Other tools worth consideration are:  <a class="reference external" href="https://pypi.org/project/svgwrite/">SVGwrite</a> for working with scalable vector graphics and <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a> for making very pretty interactive graphics on the web.  Also <a class="reference external" href="https://seaborn.pydata.org/">Seaborn</a> for a visualization system based on matplotlib, but with more modern styling.  For producing print-ready graphics, I use a strange combination of Python and <a class="reference external" href="http://www.texample.net/tikz/examples/all/">TikZ/PGF</a>.</p>
<section id="introduction-to-matplotlib">
<h3><span class="section-number">5.3.1. </span>Introduction to matplotlib<a class="headerlink" href="#introduction-to-matplotlib" title="Permalink to this heading">#</a></h3>
<p>Matplotlib can be used to make all sorts of graphs and charts from your data.  Often the best way to use matplotlib is to look at the <a class="reference external" href="https://matplotlib.org/gallery/index.html">matplotlib gallery</a> and find an example as a starting point.  But it’s difficult getting started with matplotlib unless you understand its basic framework.</p>
<p>Here we limit ourselves to three fundamental types of visualization in matplotlib:  the <a class="reference external" href="https://en.wikipedia.org/wiki/Histogram">histogram</a>, the <a class="reference external" href="https://en.wikipedia.org/wiki/Line_chart">line chart</a>, and the <a class="reference external" href="https://en.wikipedia.org/wiki/Scatter_plot">scatter plot</a>.  To use matplotlib’s plotting capabilities, we load the matplotlib.pyplot package as plt (just as we loaded numpy as np).  The pyplot part of matplotlib is meant to work like Matlab.  You can follow the <a class="reference external" href="https://matplotlib.org/tutorials/introductory/pyplot.html">official pyplot tutorial</a> for more.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> <span class="c1"># Use plt.&lt;command&gt; hereafter.</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="scatter-plots">
<h3><span class="section-number">5.3.2. </span>Scatter plots<a class="headerlink" href="#scatter-plots" title="Permalink to this heading">#</a></h3>
<p>The <em>scatter plot</em> might be the simplest sort of 2-dimensional data visualization.  If your data is a set of ordered pairs <span class="math notranslate nohighlight">\((x,y)\)</span> of numbers, then a scatter plot visualizes this data by putting a dot at every coordinate in the data.  Here is a minimalist example.  Note that the data is organized as <em>two separate arrays</em> – one for the x-coordinates and the other for the y-coordinates.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xlist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span> <span class="c1"># A list of 20 random numbers between 1 and 10</span>
<span class="n">ylist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span> <span class="c1"># Another such list.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">xlist</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ylist</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[ 2  6  7  5  6  6  5  4  5  2  1  8  7  5  6  4  4 10  3  7]
[ 8  6  2  8  5 10  5  8  4  8  8  7  7  7  1  3  9 10  2  1]
</pre></div>
</div>
</div>
</div>
<p>We are going to use these numbers as the x-coordinates and y-coordinates for a series of dots.  A more explicit description is given by running the cell below.  (Also, a reminder of string formatting!)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xlist</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">xlist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">ylist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">) will be plotted&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2, 8) will be plotted
(6, 6) will be plotted
(7, 2) will be plotted
(5, 8) will be plotted
(6, 5) will be plotted
(6, 10) will be plotted
(5, 5) will be plotted
(4, 8) will be plotted
(5, 4) will be plotted
(2, 8) will be plotted
(1, 8) will be plotted
(8, 7) will be plotted
(7, 7) will be plotted
(5, 7) will be plotted
(6, 1) will be plotted
(4, 3) will be plotted
(4, 9) will be plotted
(10, 10) will be plotted
(3, 2) will be plotted
(7, 1) will be plotted
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xlist</span><span class="p">,</span> <span class="n">ylist</span><span class="p">)</span> <span class="c1"># A picture should pop up!  If it doesn&#39;t, please get help.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x119aed8d0&gt;
</pre></div>
</div>
<img alt="../_images/fa332937785b95d5b817d5f769ff1e97ee3201888d111db837665277db0f90fd.png" src="../_images/fa332937785b95d5b817d5f769ff1e97ee3201888d111db837665277db0f90fd.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xlist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span> <span class="c1"># A list of 500 random floats between 0 and 1.</span>
<span class="n">ylist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span> <span class="c1"># Another such list.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xlist</span><span class="p">,</span> <span class="n">ylist</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/e15c12904670bc5d1104ffda1d26b4b0c86ee99228a68a6d2d9977106e2be92e.png" src="../_images/e15c12904670bc5d1104ffda1d26b4b0c86ee99228a68a6d2d9977106e2be92e.png" />
</div>
</div>
<p>These examples are minimalist – the quickest way to produce a plot, using all the matplotlib defaults.  Notice the axis ticks are automatically placed, the color of dots is an intelligent shade of blue, and the dots have a pleasing size and soft edge.  The single <code class="docutils literal notranslate"><span class="pre">plt.scatter(xlist,</span> <span class="pre">ylist)</span></code> created quite a complicated image from two lists of numbers.</p>
<p>Behind the scenes, there is a lot going on!  In fact, the <code class="docutils literal notranslate"><span class="pre">plt.scatter</span></code> function activates the pyplot <em>state machine</em> and <em>changes its state</em>.  When the cell containing the <code class="docutils literal notranslate"><span class="pre">plt.scatter</span></code> function is finished with its execution, the figure is rendered as an image in your browser, and the <em>state machine</em> is closed down.</p>
<p>This “state machine” initializes a data structure, changes it according to <code class="docutils literal notranslate"><span class="pre">plt.&lt;command&gt;</span></code> functions, renders it to your browser, then disposes of the evidence.  Here is a more complicated example, which might be easier to decode.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xlist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span> <span class="c1"># A list of 500 random floats between 0 and 1.</span>
<span class="n">ylist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span> <span class="c1"># Another such list.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xlist</span><span class="p">,</span> <span class="n">ylist</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;gold&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Age of banana slug (in days)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Taste of banana slug (1 = tastiest)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Age vs taste of banana slugs&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/cee6bfb6833843e25a93ed1ea24b98b83c2bca7562f4f1b6be91e90e96e05b0e.png" src="../_images/cee6bfb6833843e25a93ed1ea24b98b83c2bca7562f4f1b6be91e90e96e05b0e.png" />
</div>
</div>
<p>We’re going to go through the whole figure-creation and display, line by line.  There’s a lot going on!</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">plt.figure(figsize=(6,6))</span></code> starts the pyplot “state machine” by initializing a figure which is 6 inches by 6 inches in size.  The size on your screen may appear different, because your browser is smart.  If you want to manually set the figure size, you should do this before everything else.  All other <code class="docutils literal notranslate"><span class="pre">plt</span></code> commands in the cell will operate on this figure (the “state” of the “state machine”).  Here is the basic <a class="reference external" href="https://matplotlib.org/tutorials/introductory/usage.html">anatomy of a matplotlib figure</a>… it’s quite complicated!</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plt.scatter(xlist,</span> <span class="pre">ylist,</span> <span class="pre">alpha=0.5,</span> <span class="pre">c='gold',</span> <span class="pre">s=50)</span></code>.  This uses pyplot’s built-in scatter-plot-maker.  The xlist and ylist are the lists of x-coordinates and y-coordinates… the data which is being plotted.  The <code class="docutils literal notranslate"><span class="pre">alpha</span></code> parameter sets the transparency of the dots, which is very important when there are overlaps!  An alpha value of 1 yields completely opaque dots.  The <code class="docutils literal notranslate"><span class="pre">c</span></code> parameter sets the color of the dots.  Here the dot color is set to <code class="docutils literal notranslate"><span class="pre">gold</span></code>.  Here is a <a class="reference external" href="https://matplotlib.org/examples/color/named_colors.html">list of named colors</a>.  More fun than crayons!  The <code class="docutils literal notranslate"><span class="pre">s</span></code> parameter sets the size of the dots, measured by area.  Here is the <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.scatter.html">complete list of parameters</a> that can be passed to the <code class="docutils literal notranslate"><span class="pre">plt.scatter</span></code> function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plt.xlabel('Age</span> <span class="pre">of</span> <span class="pre">banana</span> <span class="pre">slug</span> <span class="pre">(in</span> <span class="pre">days)')</span></code>.  This sets the label on the x-axis of the active figure.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plt.ylabel('Taste</span> <span class="pre">of</span> <span class="pre">banana</span> <span class="pre">slug</span> <span class="pre">(1</span> <span class="pre">=</span> <span class="pre">tastiest)')</span></code>.  This sets the label on the y-axis of the active figure.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plt.title('Age</span> <span class="pre">vs</span> <span class="pre">taste</span> <span class="pre">of</span> <span class="pre">banana</span> <span class="pre">slugs')</span></code>.  This sets the title of the active figure.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plt.show()</span></code>.  Not strictly necessary, but a good habit.  This shows the plot.  After the cell is run, the “state machine” is effectively turned off and forgotten.  <code class="docutils literal notranslate"><span class="pre">plt</span></code> commands in later cells will not be able to change the plot you’ve created.</p></li>
</ol>
<p>You might wish to change some of the parameters in the above figure, and re-run the cell, to see the effect.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Can I change the label?&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 0, &#39;Can I change the label?&#39;)
</pre></div>
</div>
<img alt="../_images/b4b652eb55119653e56558480261c1ae94b917e52e2a9ea1da8d2659bf2ec3fd.png" src="../_images/b4b652eb55119653e56558480261c1ae94b917e52e2a9ea1da8d2659bf2ec3fd.png" />
</div>
</div>
<p>When the banana-slug cell was executed, its state machine was turned off.  So if you try to make a change in a new cell with <code class="docutils literal notranslate"><span class="pre">plt.xlabel('...')</span></code>, you will end up <em>restarting</em> the state-machine in a mostly empty state, and then setting the xlabel of this new figure.  When you run the new cell, the figure is displayed, with your new label, and that state machine is terminated.</p>
<p>Now we will make a scatterplot using the sine function.  Along the way, we use the numpy <code class="docutils literal notranslate"><span class="pre">arange</span></code> function.  The function <code class="docutils literal notranslate"><span class="pre">np.arange(a,b,s)</span></code> generates a numpy array which starts at <code class="docutils literal notranslate"><span class="pre">a</span></code> and ends <em>before</em> <code class="docutils literal notranslate"><span class="pre">b</span></code> and uses a step-size of <code class="docutils literal notranslate"><span class="pre">s</span></code>.  It’s a lot like a range command, but… note that the <code class="docutils literal notranslate"><span class="pre">arange</span></code> function <em>does</em> put all the numbers into memory.  So beware and do not try to store a trillion numbers in your computer memory!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="c1"># Looks familiar?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0 1 2 3 4 5 6 7 8 9]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mf">0.3</span><span class="p">))</span> <span class="c1"># A bit more flexible.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0.  0.3 0.6 0.9 1.2 1.5 1.8 2.1 2.4 2.7 3.  3.3 3.6 3.9 4.2 4.5 4.8]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xlist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span> <span class="c1"># The list 0,0.1, 0.2, 0.3, etc. up to 9.9.</span>
<span class="n">sinlist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">xlist</span><span class="p">)</span> <span class="c1"># apply the sine function to each item in the list, via broadcasting.</span>
<span class="n">coslist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">xlist</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xlist</span><span class="p">,</span> <span class="n">sinlist</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="c1"># See the marker?</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xlist</span><span class="p">,</span> <span class="n">coslist</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span> <span class="c1"># Multiple plots, no problem!</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span> <span class="c1"># A grid might help.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time (in seconds)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Height of ball on spring (in cm)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Observed trajectory of balls on spring&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/bdb9d403ca55f53e403deb6820849021b1da5a16681ad70af2f45e96d77ed56f.png" src="../_images/bdb9d403ca55f53e403deb6820849021b1da5a16681ad70af2f45e96d77ed56f.png" />
</div>
</div>
</section>
<section id="line-plots-in-matplotlib">
<h3><span class="section-number">5.3.3. </span>Line plots in matplotlib<a class="headerlink" href="#line-plots-in-matplotlib" title="Permalink to this heading">#</a></h3>
<p>The previous example contains plots of the sine and cosine functions.  It is a bit unusual to plot functions with scatterplots; one would typically use a plot that “connects the dots” to reflect the continuity of the functions. While <code class="docutils literal notranslate"><span class="pre">plt.scatter</span></code> produces a scatter-plot, the simply-named <code class="docutils literal notranslate"><span class="pre">plt.plot</span></code> command produces a plot that connects the dots.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xlist</span><span class="p">,</span> <span class="n">sinlist</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xlist</span><span class="p">,</span> <span class="n">coslist</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> <span class="c1"># Multiple plots, no problem!</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span> <span class="c1"># A grid might help.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;$x$&#39;</span><span class="p">)</span> <span class="c1"># Notice the dollar signs... matplotlib understands basic LaTeX in text!</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$y$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Graphs of $y = \sin(x)$ and $y = \cos(x)$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/dd7b5fbeaf4161bc4aa01bc2d8be1c33c9ac5d2b57c802e97e15cec76034fd42.png" src="../_images/dd7b5fbeaf4161bc4aa01bc2d8be1c33c9ac5d2b57c802e97e15cec76034fd42.png" />
</div>
</div>
<p>Like everything with matplotlib, there are zillions of possible adjustments and additions one can make to this plot.  Here we just mention two.</p>
<ol class="arabic simple">
<li><p>Changing the axis ticks to be more relevant.</p></li>
<li><p>A <em>legend</em> that is advisable when plotting multiple functions.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xlist</span><span class="p">,</span> <span class="n">sinlist</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;$y=\sin(x)$&#39;</span><span class="p">)</span> <span class="c1"># label for the legend.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xlist</span><span class="p">,</span> <span class="n">coslist</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;$y=\cos(x)$&#39;</span><span class="p">)</span> <span class="c1"># label for the legend.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span> <span class="c1"># x-axis ticks (gridlines) are at multiples of pi/2.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span> <span class="c1"># A grid might help.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;$x$&#39;</span><span class="p">)</span> <span class="c1"># Notice the dollar signs... matplotlib understands basic LaTeX in text!</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$y$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Graphs of $y = \sin(x)$ and $y = \cos(x)$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span> <span class="c1"># Insert the legend, based on the plot labels.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f83cb2344f9183dbbe7cee38d3b961ef5f6d4ee12b57b23a60d98282302d17a4.png" src="../_images/f83cb2344f9183dbbe7cee38d3b961ef5f6d4ee12b57b23a60d98282302d17a4.png" />
</div>
</div>
<p>Note the x-ticks are at <span class="math notranslate nohighlight">\(0\)</span>, <span class="math notranslate nohighlight">\(\pi/2\)</span>, <span class="math notranslate nohighlight">\(\pi\)</span>, <span class="math notranslate nohighlight">\(3 \pi / 2\)</span>, etc..  But they are labeled by floating point values.  We can fix this by making custom labels.  We store the x-tick locations in a numpy array <code class="docutils literal notranslate"><span class="pre">pimult</span></code> and the x-tick labels in another numpy array (of strings) <code class="docutils literal notranslate"><span class="pre">xlabels</span></code>.  It’s a bit tedious, but the result will look nice.  Note that matplotlib will process the basic LaTeX that we use in the labels.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pimult</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="c1"># The list of locations of the x-ticks.</span>
<span class="n">xlabels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;$\pi/2$&#39;</span><span class="p">,</span> <span class="s1">&#39;$\pi$&#39;</span><span class="p">,</span> <span class="s1">&#39;$3 \pi / 2$&#39;</span><span class="p">,</span> <span class="s1">&#39;$2 \pi$&#39;</span><span class="p">,</span> <span class="s1">&#39;$5 \pi / 2$&#39;</span><span class="p">,</span> <span class="s1">&#39;$3 \pi$&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xlist</span><span class="p">,</span> <span class="n">sinlist</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;$y=\sin(x)$&#39;</span><span class="p">)</span> <span class="c1"># label for the legend.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xlist</span><span class="p">,</span> <span class="n">coslist</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;$y=\cos(x)$&#39;</span><span class="p">)</span> <span class="c1"># label for the legend.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">pimult</span><span class="p">,</span> <span class="n">xlabels</span><span class="p">)</span> <span class="c1"># x-axis ticks and labels.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span> <span class="c1"># A grid might help.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;$x$&#39;</span><span class="p">)</span> <span class="c1"># Notice the dollar signs... matplotlib understands basic LaTeX in text!</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$y$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Graphs of $y = \sin(x)$ and $y = \cos(x)$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span> <span class="c1"># Insert the legend, based on the plot labels.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/cc0272ae05d244fedccb0e7553982b02774b6488bbd0eb2f62cd7e2411081e4d.png" src="../_images/cc0272ae05d244fedccb0e7553982b02774b6488bbd0eb2f62cd7e2411081e4d.png" />
</div>
</div>
<p>For plotting functions, there are many tools out there.  One can use <a class="reference external" href="https://www.desmos.com/">Desmos</a>, for example, or Excel, or <em>Grapher</em> (preinstalled on every Apple computer).  But the line plotting in matplotlib is more flexible than most.  For example, let’s plot a “random walk”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xlist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="c1"># Initialize arrays of zeros.</span>
<span class="n">ylist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> 
<span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="c1"># We start at (0,0).</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>  <span class="c1"># t will be the &quot;time&quot; parameter for the walk.</span>
    <span class="n">xlist</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span>
    <span class="n">ylist</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">-</span><span class="mf">0.5</span> <span class="c1"># Add a random number between -0.5 and 0.5 to x.</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">-</span><span class="mf">0.5</span> <span class="c1"># Add a random number between -0.5 and 0.5 to x.</span>
</pre></div>
</div>
</div>
</div>
<p>Note that we began by initializing xlist and ylist to an array of zeros, and <em>not</em> an empty array.  We did <em>not</em> begin with <code class="docutils literal notranslate"><span class="pre">xlist</span> <span class="pre">=</span> <span class="pre">np.array([])</span></code> and then append new x-values.  There’s an important reason for this, having to do with the optimization of NumPy.</p>
<p>When NumPy stores an array, it finds a block of <em>consecutive</em> memory slots for the array values.  So if you start with an array of 100 zeros (as float64s), NumPy will find 6400 consecutive bits of memory in your computer, and set them to represent 100 consecutive zeros (each stored in a 64-bit clump).</p>
<p>If you <em>append</em> to a NumPy array, NumPy will be annoyed.  NumPy has already found a perfectly-sized block of memory for your data, and now you are asking NumPy to fit more data in the block.  So NumPy will go out and hunt for a new perfectly-sized block of memory to fit your data… every single time you append.  This will waste resources and make NumPy sad.</p>
<p>On the other hand, NumPy will be perfectly happy to <em>change</em> the bits of memory that it has allocated.  So starting with all zeros, and changing those zeros to other 64-bit numbers, will keep NumPy HapPy.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xlist</span><span class="p">,</span> <span class="n">ylist</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span> <span class="c1"># label for the legend.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span> <span class="c1"># A grid might help.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;$x$&#39;</span><span class="p">)</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$y$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;A random walk in 2 dimensions&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/a9d1c11af51dde7fd9d60d70f96b9d031a31661b3c4e2cfe88b82f9f70a5ab14.png" src="../_images/a9d1c11af51dde7fd9d60d70f96b9d031a31661b3c4e2cfe88b82f9f70a5ab14.png" />
</div>
</div>
</section>
<section id="histograms-in-matplotlib">
<h3><span class="section-number">5.3.4. </span>Histograms in matplotlib<a class="headerlink" href="#histograms-in-matplotlib" title="Permalink to this heading">#</a></h3>
<p>A <em>histogram</em> is most frequently used to display the <em>distribution</em> of a single numerical variable.  In other words, if one has a big <em>set</em> of numbers, a histogram is used to display how these numbers are distributed:  are they clumped near a “center” or are they “multimodal” (having multiple “centers”)?  Are they “uniformly distributed” within a range?  How much “noise” is present?</p>
<p>To understand histograms, we begin with a set of numbers, represented in a numpy array.<br />
Read the <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.hist.html">full histogram documentation</a> for more!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="c1"># A list of 100 random numbers between 0 and 1.</span>
</pre></div>
</div>
</div>
</div>
<p>The following code is a minimalist sort of histogram.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># Divide the range of numbers into 10 &quot;bins&quot;.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Histogram of 100 random numbers between 0.0 and 1.0&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/5166e6d87a40ed4bab6b0600ce7ed12ecaf355521ecb9e89c7a60e45ad24d7de.png" src="../_images/5166e6d87a40ed4bab6b0600ce7ed12ecaf355521ecb9e89c7a60e45ad24d7de.png" />
</div>
</div>
<p>The new ingredient here is the <code class="docutils literal notranslate"><span class="pre">plt.hist(A,</span> <span class="pre">bins=10)</span></code> command.  This carries out the following steps.</p>
<ol class="arabic simple">
<li><p>It identifies the smallest value of the array <code class="docutils literal notranslate"><span class="pre">A</span></code> and the largest value of the array <code class="docutils literal notranslate"><span class="pre">A</span></code>, and subdivides the space between this min and max into 10 “bins”.</p></li>
<li><p>It counts the number of values within each bin.</p></li>
<li><p>It draws a bar for each bin, whose height is the number of values within each bin.</p></li>
</ol>
<p>For histogram, the automatic layout is often difficult to read.  We can choose the bins manually, and add xticks and yticks, to display the information more clearly.  We are going to use the <code class="docutils literal notranslate"><span class="pre">np.linspace</span></code> command, explained just below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">))</span> <span class="c1"># Divide the range of numbers into 10 &quot;bins&quot;.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span> <span class="c1"># Compare to the flat distribution.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Histogram of 100 random numbers between 0.0 and 1.0&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/0ab364f89a043872cf53fe22cb46f9cdffa2c12f3da183687080d0ddf367e5ba.png" src="../_images/0ab364f89a043872cf53fe22cb46f9cdffa2c12f3da183687080d0ddf367e5ba.png" />
</div>
</div>
<p>The only new ingredient was the <code class="docutils literal notranslate"><span class="pre">np.linspace</span></code> command, which is a very useful variant of <code class="docutils literal notranslate"><span class="pre">np.arange</span></code>.  The command <code class="docutils literal notranslate"><span class="pre">np.arange(start,</span> <span class="pre">stop,</span> <span class="pre">step)</span></code> creates a numpy array that begins at <code class="docutils literal notranslate"><span class="pre">start</span></code> and ends <em>just before</em> <code class="docutils literal notranslate"><span class="pre">stop</span></code> using intervals of <code class="docutils literal notranslate"><span class="pre">step</span></code>.  This should be familiar from the usual Python <code class="docutils literal notranslate"><span class="pre">range</span></code> command.</p>
<p>The command <code class="docutils literal notranslate"><span class="pre">np.linspace(start,</span> <span class="pre">stop,</span> <span class="pre">length)</span></code> creates a numpy array that begins at <code class="docutils literal notranslate"><span class="pre">start</span></code> and ends <em>at</em> <code class="docutils literal notranslate"><span class="pre">stop</span></code>, using <code class="docutils literal notranslate"><span class="pre">length</span></code> evenly spaced values.  This is particularly useful for graphing, where you might know the domain interval and the number of samples you wish to compute.</p>
</section>
</section>
<section id="visualization-with-pillow">
<h2><span class="section-number">5.4. </span>Visualization with pillow<a class="headerlink" href="#visualization-with-pillow" title="Permalink to this heading">#</a></h2>
<p>The Python Imaging Library (PIL) was started over 20 years ago, as a package for working with images (in formats like jpg, png, bmp, etc.) in Python.  Development of PIL mostly stopped in 2011, but is thankfully revived as <a class="reference external" href="https://pillow.readthedocs.io/en/stable/">Pillow</a> (the “friendly PIL fork”).</p>
<p>Let’s see if it works, with some basic code below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span> <span class="c1"># Load the package.</span>
</pre></div>
</div>
</div>
</div>
<p>A matplotlib figure is built of certain elements – axes, labels, dots, lines, legends, grids, ticks, etc..  By design, these elements are meant to be assembled into a large but standard zoo of scientific graphics.</p>
<p>In contrast, PIL works with images at a more rudimentary level.  In the lines below, we use NumPy to create a 3-dimensional array of numbers, and then use PIL to turn these numbers into an image, save the image, and display the image.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span> 
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">):</span> 
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">):</span> 
        <span class="n">array</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">256</span><span class="o">-</span><span class="n">x</span><span class="o">//</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/3f/mhdhb7z91hj4c694g5gsbzlh0000gn/T/ipykernel_6284/705902704.py:4: DeprecationWarning: NumPy will stop allowing conversion of out-of-bound Python integers to integer arrays.  The conversion of 256 to uint8 will fail in the future.
For the old behavior, usually:
    np.array(value).astype(dtype)
will give the desired result (the cast overflows).
  array[x, y] = [x, y, 256-x//2]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">array</span><span class="p">)</span> <span class="c1"># Create an image from the array.</span>
<span class="n">img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;testrgba.png&#39;</span><span class="p">)</span> <span class="c1"># Save the image to Google&#39;s computer as a png file.  May not work well with colab.</span>
<span class="n">display</span><span class="p">(</span><span class="n">img</span><span class="p">)</span> <span class="c1"># Display the image in the notebook.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ef70044b0d47fe0b416888779eab02a35eeec5057f7c5b1a1e81d8aca0d329ff.png" src="../_images/ef70044b0d47fe0b416888779eab02a35eeec5057f7c5b1a1e81d8aca0d329ff.png" />
</div>
</div>
<p>To understand how this works, it is helpful to understand a bit more about light, computer monitors, and images-as-data.  Light is electromagnetic radiation, and it travels through space in waves.  Light waves with a wavelength of about 400-700 nanometers stimulate cells on our retina, and therefore are <em>visible</em>.  Longer wavelength light includes infrared, microwave, and radio waves.  Shorter wavelength light includes ultraviolet and x-rays.</p>
<p>For most of us, our retinas contain 3 types of “cone cells” which are responsive to different wavelengths of light.  Some are most responsive to light in the low 400 nm range, others to light in the low 500nm range, others in the mid 500nm range.  Signals from these three kinds of cells get passed to the brain, and we are able to distinguish between different wavelengths (in the 400-700nm range) by which cells are more or less activated.</p>
<p>If you see light purely in the 400-450 nm range, it looks pretty blue, whereas light at the 650-700 nm range looks pretty red.  A typical red laser pointer shines light that’s close to 650nm.</p>
<p>Your computer monitor contains millions of <em>pixels</em> – extremely tiny these days (often below 100 micrometers square).  Each pixel contains a red, a blue, and a green subpixel.  Each of these subpixels is individually dimmable, and is often set between 0 (completely off) and 255 (completely on).  In this way, each pixel can be black (red = 0, blue = 0, green = 0) or bright pure red (red = 255, blue = 0, green = 0) or white (red = 255, blue = 255, green = 255).</p>
<p>To understand how this makes “white” or “yellow” or all the other colors in the rainbow, you need to understand an <em>additive</em> color scheme as well as how light is perceived.  When light of multiple wavelengths hits your retina, your brain perceives a certain color.  In fact, if light of a red wavelength (680nm) and green wavelength (510nm) hits your retina at the same time, your brain will see it exactly the same as light of a yellow wavelength (560nm).  When you look at a bright yellow picture on your computer monitor, your computer is actually shining red and green light at your retina… the red and green dots are just so tiny and closely packed that your brain doesn’t know the difference.</p>
<p>The code below creates a 200 by 200 by 3 array of numbers, each between 0 and 255.  But you should think about it as a 200 by 200 array of quadruples of the form <code class="docutils literal notranslate"><span class="pre">[red</span> <span class="pre">value,</span> <span class="pre">green</span> <span class="pre">value,</span> <span class="pre">blue</span> <span class="pre">value]</span></code>.  Each value can be between 0 and 255 – it is represented as a np.uint8.</p>
<p>This array is then turned into a PIL Image with the <code class="docutils literal notranslate"><span class="pre">Image.fromarray</span></code> function.  Then the PIL function <code class="docutils literal notranslate"><span class="pre">display</span></code> displays the image.  Notice how red+green looks yellow.  Experiment with the red, green, and blue values to see what happens!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">solid</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
        <span class="n">solid</span><span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># Red = 255, Green = 255, Blue = 0</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">solid</span><span class="p">)</span> <span class="c1"># Create an image from the array.</span>
<span class="n">display</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/3ebe1668c2fa29a5d3ffec7c08000cdedec2a9b9eeb8dd5d46869b6c4797473c.png" src="../_images/3ebe1668c2fa29a5d3ffec7c08000cdedec2a9b9eeb8dd5d46869b6c4797473c.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gradient</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">):</span>
        <span class="n">gradient</span><span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># Red = x, Green = 128, Blue = 0</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">gradient</span><span class="p">)</span> <span class="c1"># Create an image from the array.</span>
<span class="n">display</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/5eeb09a063ced1f9b8221cdda9f8456e0637c6e1ecd472cd31739d731de6f55c.png" src="../_images/5eeb09a063ced1f9b8221cdda9f8456e0637c6e1ecd472cd31739d731de6f55c.png" />
</div>
</div>
<p>There is something terribly confusing that happens when one goes back and forth between PIL images and NumPy arrays.  The x-coordinate and y-coordinate gets switched.  Notice in the above code that <code class="docutils literal notranslate"><span class="pre">gradient[y,x]</span></code> is being assigned a value <code class="docutils literal notranslate"><span class="pre">[x,128,0]</span></code>  This means that as x changes, the color chages (from green to orange).  The RGB triple stored in <code class="docutils literal notranslate"><span class="pre">gradient[y,x]</span></code> corresponds to the pixel with x-coordinate x.  That’s why <code class="docutils literal notranslate"><span class="pre">[y,x]</span></code> is used and not <code class="docutils literal notranslate"><span class="pre">[x,y]</span></code>.</p>
<p>When we save images, we will use the png <a class="reference external" href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">portable network graphics</a> image format.  This is very commonly used for graphics on the web, and can be used to store all of the red/green/blue bytes of data in a rectangular image.  Most importantly for us, the png format is <em>lossless</em> – every pixel will be saved as intended in a png file.  On the other hand, formats like jpeg <em>lose information</em> as they compress the image.</p>
</section>
<section id="exercises">
<h2><span class="section-number">5.5. </span>Exercises<a class="headerlink" href="#exercises" title="Permalink to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Use an np.array to make an array of square roots of all the numbers from 1 to 100.  The first few should be 1.0, 1.414…, 1.732.  Use the np.sqrt function and arrays, <em>not</em> a for or while loop.</p></li>
<li><p>Now do the same as above, but using plain Python lists.  Use the %timeit tool to compare the speed of the np.array approach with the plain Python approach.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">L</span></code> is a list, what do the commands <code class="docutils literal notranslate"><span class="pre">L+L</span></code>, <code class="docutils literal notranslate"><span class="pre">7*L</span></code>, <code class="docutils literal notranslate"><span class="pre">L*L</span></code> produce?  How is this different from the results if <code class="docutils literal notranslate"><span class="pre">L</span></code> were a numpy array?</p></li>
<li><p>What types get coerced into what other types, when making a numpy array out of a mixed-type list?</p></li>
<li><p>Put the list of numbers <code class="docutils literal notranslate"><span class="pre">[1,...,12]</span></code> into all possible shapes of 2-dimensional, and 3-dimensional numpy arrays, using the reshape command.  Print the results.  Only try the shapes where all dimensions are greater than one (i.e., don’t make a 1 by 12 array).</p></li>
<li><p>Make a square array containing the numbers <code class="docutils literal notranslate"><span class="pre">[0,...,99]</span></code>.  Use list-slicing syntax to reverse the row-order of this array.  Use list-slicing syntax to <em>transpose</em> this array (reflect it across the diagonal of the original).</p></li>
<li><p>If you roll ten fair 6-sided dice, you expect the total to be 35, on average.  The minimum total would be 10 and the maximum would be 60.  Use numpy to create a array with 50 rows and 10 columns of random dice rolls (random integers between 1 and 6).  By summing rows, create an array of numbers between 10 and 60.  What is the average of this array (a number between 10 and 60)?  What is the standard deviation of this array?  (Use the <code class="docutils literal notranslate"><span class="pre">np.std</span></code> function for standard deviation.)  Use numpy functions throughout – no loops please!</p></li>
<li><p>Define a function <code class="docutils literal notranslate"><span class="pre">matrix_pow(M,e)</span></code> which takes as input a <em>square</em> matrix <code class="docutils literal notranslate"><span class="pre">M</span></code> and a natural number <code class="docutils literal notranslate"><span class="pre">e</span></code>.  The output should be the result of matrix multiplication, with <code class="docutils literal notranslate"><span class="pre">M</span></code> multiplied by itself <code class="docutils literal notranslate"><span class="pre">e</span></code> times.  When <code class="docutils literal notranslate"><span class="pre">e</span></code> is zero, the function should output the identity matrix <code class="docutils literal notranslate"><span class="pre">np.eye(s)</span></code> where <code class="docutils literal notranslate"><span class="pre">s</span></code> is the number of rows (or columns) of <code class="docutils literal notranslate"><span class="pre">M</span></code>.</p></li>
<li><p>The matrix exponential is defined by the same Taylor series as the usual exponential function, but one allows square matrices as inputs instead of just numbers.  Define a function <code class="docutils literal notranslate"><span class="pre">matrix_exp(M)</span></code> which computes the matrix exponential of <code class="docutils literal notranslate"><span class="pre">M</span></code> using the first 20 terms of the (familiar) series, and uses the <code class="docutils literal notranslate"><span class="pre">matrix_pow</span></code> function from the previous question.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">np.arange</span></code> and <code class="docutils literal notranslate"><span class="pre">np.linspace</span></code> to produce the same numpy array <code class="docutils literal notranslate"><span class="pre">array([</span> <span class="pre">0.,</span>&#160; <span class="pre">1.,</span>&#160; <span class="pre">2.,</span>&#160; <span class="pre">3.,</span>&#160; <span class="pre">4.,</span>&#160; <span class="pre">5.,</span>&#160; <span class="pre">6.,</span>&#160; <span class="pre">7.,</span>&#160; <span class="pre">8.,</span>&#160; <span class="pre">9.,</span> <span class="pre">10.])</span></code>.</p></li>
<li><p>Create numpy arrays <code class="docutils literal notranslate"><span class="pre">xlist</span></code> and <code class="docutils literal notranslate"><span class="pre">ylist</span></code>, such that their scatter plot contains 100 evenly spaced points on the unit circle.</p></li>
<li><p>Use numpy to create a 10000 by 100 array of numbers, randomly chosen from {0,1}, with the command <code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">np.random.choice([0,1],</span> <span class="pre">(10000,100))</span></code>.  You can think of each entry as a coin-toss, with 0 standing for tails and 1 for heads.  Now sum the rows of this array, to get an array of 10000 numbers between 0 and 100.  Make a histogram of this array to exhibit the <a class="reference external" href="https://en.wikipedia.org/wiki/Central_limit_theorem">central limit theorem</a>.  Use at least 20 bins.  Try this with other random choices of numbers, e.g., replacing [0,1] by other small lists of numbers.  How is the horizontal center of the histogram peak related to the list of numbers you choose?  Extra time? compare to the normal distribution by overlaying a suitable plt.plot.</p></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="03-lists.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">4. </span>Lists</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-numpy">5.1. Introduction to NumPy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-numerical-types-and-universal-functions-ufuncs">5.1.1. NumPy numerical types and “universal” functions (ufuncs)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python-arrays">5.1.2. Python arrays</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#higher-dimensional-arrays">5.2. Higher-dimensional arrays</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#making-multidimensional-arrays">5.2.1. Making multidimensional arrays</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-random-interlude">5.2.2. A random interlude</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-and-slicing-multi-dimensional-arrays">5.2.3. Accessing and slicing multi-dimensional arrays</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#matrix-multiplication">5.2.4. Matrix multiplication</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-2-dimensional-graphics-in-python">5.3. Introduction to 2-dimensional graphics in Python</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-matplotlib">5.3.1. Introduction to matplotlib</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scatter-plots">5.3.2. Scatter plots</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#line-plots-in-matplotlib">5.3.3. Line plots in matplotlib</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#histograms-in-matplotlib">5.3.4. Histograms in matplotlib</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualization-with-pillow">5.4. Visualization with pillow</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">5.5. Exercises</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Marty Weissman and Suzana Șerboi
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div>
     <div style="text-align: left;">Powered by <a href="https://jupyterbook.org">Jupyter Book</a></div>
</div>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>